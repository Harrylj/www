<!DOCTYPE html>
<html>

  <head lang="en">
    <meta charset="UTF-8">
    <!-- 使用最新的ie内核渲染 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- 移动设备优先, 禁止缩放 -->
    <meta name="viewport" content="width=device-width, initial-scale=1,minimum-scale=1,maximum-scale=1, user-scalable=no">
    <!-- 国产浏览器(360)使用webkit内核 -->
    <meta name="renderer" content="webkit">
    <!-- 禁止识别为手机号码 -->
    <meta name="format-detection" content="telephone=no" />
    <meta name="keywords" content="">
    <meta name="description" content="">
    <link rel="stylesheet" href="css/swiper1.min.css">
    <link href="css/bootstrap.min.css" type="text/css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/public.css" />
    <link rel="stylesheet" type="text/css" href="css/publication.css" />
    <link rel="stylesheet" type="text/css" href="css/index.css" />
    <title>期刊编排</title>
    <style type="text/css">

    </style>
  </head>

  <!--
   .publication 添加 .publication-black-hover 表示晚上
   
   .publication-white-kl:白天刊列
   .publication-white-bp:白天编排
   .publication-black-kl:黑夜刊列
   .publication-black-bp:黑夜编排
   .publication-more-click表示当前的
-->

  <body>
    <div class="publication">
      <!--
            白天 刊列
        -->
      <div class="publication-more publication-more-click publication-white publication-white-kl">

        <div class="swiper-container gallery-thumbs gallery-thumbs-white-kl swiper-container-horizontal">
          <div class="swiper-wrapper" style="transition-duration: 0ms; transform: translate3d(720px, 0px, 0px);">
            <div class="swiper-slide swiper-slide-cctv ">
              <h1>CCTV-1白天刊列</h1>
              <p>1新闻综合频道</p>
              <h2>2018年白天周一至周五周一至周五周一至周五 </h2>
              <p class="change-title">广告刊列</p>

            </div>
            <div class="swiper-slide swiper-slide-cctv">
              <h1>CCTV-2</h1>
              <h2>白天刊猎</h2>
              <p>2018-01-17</p>
              <p class="change-title swiper-no-swiping">广告刊列</p>
            </div>
            <div class="swiper-slide swiper-slide-cctv ">
              <h1>CCTV-3</h1>
              <h2>白天刊猎</h2>
              <p>2018-01-17</p>
              <p class="change-title">广告刊列</p>
            </div>
            <div class="swiper-slide swiper-slide-cctv">
              <h1>CCTV-4</h1>
              <h2>白天刊猎</h2>
              <p>2018-01-17</p>
              <p class="change-title">广告刊列</p>
            </div>
          </div>
          <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>
        </div>
        <!-- Swiper -->
        <div class="public-main pub-img-share-div">
          <div class="bshare-custom-div">
            <div class="bshare-custom icon-medium">
              <div class="bshare-custom icon-medium">
                <div class="bsPromo bsPromo2"></div>
                <a title="分享到微信" class="bshare-weixin" href="javascript:void(0);"></a>
                <a title="分享到新浪微博" class="bshare-sinaminiblog" href="javascript:void(0);"></a>
                <a title="更多平台" class="bshare-more bshare-more-icon more-style-addthis"></a>
              </div>
              <script type="text/javascript" charset="utf-8" src="http://static.bshare.cn/b/buttonLite.js#style=-1&amp;uuid=&amp;pophcol=2&amp;lang=zh"></script>
              <script type="text/javascript" charset="utf-8" src="http://static.bshare.cn/b/bshareC0.js"></script>
            </div>
          </div>
        </div>
        <!--
            	作者：648267773@qq.com
            	时间：2018-06-14
            	描述：.choice-white-kl 白天刊列.
            	       .choice-white-bp 白天编排.
            	       .choice-black-kl  晚上刊列.
            	       .choice-black-bp  晚上编排.
            	       .choice-div-click 当前
            	       typeNumber属性值对应1,2,3,4对应白天刊列，白天编排，晚上刊列，晚上编排
            -->
        <div class="swiper-container gallery-top gallery-top-white-kl swiper-container-horizontal">
          <div class="swiper-wrapper">
            <div class="swiper-slide swiper-no-swiping">
              <div class="publication-next public-main">
                <div class="choice-div-click choice-div choice-white-kl"  typeNumber="1" >
                  <p>白天刊列1</p>
                  <img class="choice-img-01 img-100" src="images/publication-01.jpg" alt="">
                </div>
                <div class="choice-div choice-black-kl" typeNumber="3">
                  <p>晚上刊列2</p>
                  <img class="choice-img-01 img-100" src="images/publication-01.jpg" alt="">
                </div>
                <div class="choice-div choice-white-bp"  typeNumber="2" >
                  <p>白天编排2</p>
                  <img class="choice-img-01 img-100" src="images/publication-01.jpg" alt="">
                </div>
                <div class="choice-div choice-black-bp" typeNumber="4">
                  <p>晚上编排2</p>
                  <img class="choice-img-01 img-100" src="images/publication-01.jpg" alt="">
                </div>
              </div>
            </div>
            <div class="swiper-slide swiper-no-swiping">
              <div class="publication-next public-main">
                <div class="choice-div-click choice-div choice-white-kl"  typeNumber="1" >
                  <p>白天刊列</p>
                  <img class="choice-img-01 img-100" src="images/publication-01.jpg" alt="">
                </div>
                <div class="choice-div choice-white-bp"  typeNumber="2" >
                  <p>白天编排</p>
                  <img class="choice-img-01 img-100" src="images/publication-01.jpg" alt="">
                </div>
                <div class="choice-div choice-black-kl" typeNumber="3">
                  <p>晚上刊列</p>
                  <img class="choice-img-01 img-100" src="images/publication-01.jpg" alt="">
                </div>
                <div class="choice-div choice-black-bp" typeNumber="4">
                  <p>晚上编排</p>
                  <img class="choice-img-01 img-100" src="images/publication-01.jpg" alt="">
                </div>
              </div>
            </div>
            <div class="swiper-slide swiper-no-swiping">
              <div class="publication-next public-main">
                <div class="choice-div-click choice-div choice-white-kl"  typeNumber="1" >
                  <p>白天刊列</p>
                  <img class="choice-img-01 img-100" src="images/publication-01.jpg" alt="">
                </div>
                <div class="choice-div choice-white-bp"  typeNumber="2" >
                  <p>白天编排</p>
                  <img class="choice-img-01 img-100" src="images/publication-01.jpg" alt="">
                </div>
                <div class="choice-div choice-black-kl" typeNumber="3">
                  <p>晚上刊列</p>
                  <img class="choice-img-01 img-100" src="images/publication-01.jpg" alt="">
                </div>
                <div class="choice-div choice-black-bp" typeNumber="4">
                  <p>晚上编排</p>
                  <img class="choice-img-01 img-100" src="images/publication-01.jpg" alt="">
                </div>
              </div>
            </div>
            <div class="swiper-slide swiper-no-swiping">
              <div class="publication-next public-main">
                <div class="choice-div-click choice-div choice-white-kl"  typeNumber="1" >
                  <p>白天刊列</p>
                  <img class="choice-img-01 img-100" src="images/publication-01.jpg" alt="">
                </div>
                <div class="choice-div choice-white-bp"  typeNumber="2" >
                  <p>白天编排</p>
                  <img class="choice-img-01 img-100" src="images/publication-01.jpg" alt="">
                </div>
                <div class="choice-div choice-black-kl" typeNumber="3">
                  <p>晚上刊列</p>
                  <img class="choice-img-01 img-100" src="images/publication-01.jpg" alt="">
                </div>
                <div class="choice-div choice-black-bp" typeNumber="4">
                  <p>晚上编排</p>
                  <img class="choice-img-01 img-100" src="images/publication-01.jpg" alt="">
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>

      <!--
      	作者：648267773@qq.com
      	时间：2018-07-04
      	描述：底部选择
      -->
      <div class="publication-footer">
        <div class="public-main publication-footer-main">
          <ul class="pf-btn-ul">
            <li class="pf-btn-ul-click">白天刊列</li>
            <li>白天编排</li>
            <li>晚上刊列</li>
            <li>晚上编排</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="index index-other">
      <div class="i-main-06">
        <div class="index-footer-body">
          <h3><img src="images/pub-footer-01.png"/>copyright 2017—2027  成都广电能量文化传播有限公司 <img src="images/pub-footer-02.png"/><a href="#">点击进入微信小世界</a></h3>
        </div>
      </div>
    </div>

    <script src="js/jquery-2.1.3.min.js"></script>
    <script src="js/swiper1.min.js"></script>
    <script src="js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript">
      //白天-刊列
      var galleryTopWhiteKL = new Swiper('.gallery-top-white-kl', {
        spaceBetween: 15,
      });
      var galleryThumbsWhiteKL = new Swiper('.gallery-thumbs-white-kl', {
        //spaceBetween: 15,
        centeredSlides: true,
        slidesPerView: 'auto',
        touchRatio: 0.2,
        slideToClickedSlide: true,
      });
      galleryTopWhiteKL.controller.control = galleryThumbsWhiteKL;
      galleryThumbsWhiteKL.controller.control = galleryTopWhiteKL;

      $(function() {

        //点击底部的筛选
        $('.pf-btn-ul').children('li').on('click', function() {
          var clickClass = 'pf-btn-ul-click',
            fatherClickClass = 'publication-more-click';
          var thisIndex = $(this).index();
          var abcd = $('.swiper-slide-active').index();
          //循环内容
          $('.gallery-top-white-kl').children().children('.swiper-slide-active').children('.publication-next').children('.choice-div').each(function(){
            //获取内容的定义值  白天刊列:1，白天编排:2，晚上刊列:3，晚上编排:4
            var thisNum = $(this).attr('typenumber');
            //判断内容的显示，改变其class值
            if(thisNum == thisIndex+1){
              $(this).addClass('choice-div-click').siblings().removeClass('choice-div-click');
            }

          })
          
          //更改自己的点击样式
          $(this).addClass(clickClass).siblings().removeClass(clickClass);
          var hoverClass = 'publication-black-hover',
            fatherE = $('.publication');
          //显示对应的内容
            fatherE.children('.publication-more').eq(thisIndex).addClass(fatherClickClass).siblings().removeClass(fatherClickClass);
          //改变高度
          changeHeight()
        });
        // 1     2  3  4
        //[白天刊列，白天编排，晚上刊列，晚上编排]。
        var abc = [
          [4,3],
          [2,4,3],
          [2],
          [1,3]
        ]

        //点击电视台筛选按钮
        $('.swiper-slide-cctv').on('click', function() {
          var thisIndex = $('.swiper-slide-active').index(),
            childOne = $('.pf-btn-ul'),
            numA = 4;
          //隐藏所有的按钮
          childOne.children().hide();
          //循环数值
          for(a = 0; a <= abc[thisIndex].length; a++) {
            childOne.children().eq(abc[thisIndex][a]-1).show();
            //获取最小值
            if(numA>abc[thisIndex][a]){
              numA = abc[thisIndex][a]
            }
          }
          //点击最小值，使得第一个永远被点击
          childOne.children().eq(numA-1).click();
          
        })

        //JS添加高度
        function changeHeight() {
          var fatherDiv = $('.publication');
          var higE = $('.publication-more');
          var hig = 0;
          for(var abc = 0; abc < higE.length; abc++) {
            if(hig < higE.eq(abc).height()) {
              hig = higE.eq(abc).height()
            }
          }
          fatherDiv.height(hig)
        }
        //JS添加高度
        changeHeight()
        //初始化点击电视台
        $('.swiper-slide-active').click();
        

      })
    </script>
  </body>

</html>